# –î–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–¥–∞–Ω–∏—è

## –ó–∞–¥–∞—á–∞

–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–∏—Å–∫–æ–≤–æ–π –º–æ–¥—É–ª—å –Ω–∞ –±–∞–∑–µ LLM –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –µ–≥–æ –≤ —Å–∏—Å—Ç–µ–º—É VK Tek.

–ú–æ–¥—É–ª—å –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∞—Ç—å –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–º –ø–æ—Ä—Ç–∞–ª–µ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤. –í –∫–∞—á–µ—Å—Ç–≤–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –¥–∞–º–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (—Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Å–ø–∏—Å–∫–∏ —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º, –∞ —Ç–∞–∫–∂–µ —Ñ–∞–π–ª—ã —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤).

---

## –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–∑–º–µ—â–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ –ø–æ—Ä—Ç–∞–ª–µ

–í –ø–æ—Ä—Ç–∞–ª–µ —Å –ø–æ–º–æ—â—å—é —Å–µ—Ä–≤–∏—Å–∞ **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–∞–π—Ç–æ–≤** (–æ–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞ —Å–º. [—Ç—É—Ç](https://people-hub.ru/documentation/guides/sitector/sities/)) –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã —Å–∞–π—Ç—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π. –°–º. —Ç–∞–±–ª–∏—Ü—É –Ω–∏–∂–µ.

### –¢–∞–±–ª–∏—Ü–∞ 1. –°–ø–∏—Å–æ–∫ —Å–∞–π—Ç–æ–≤

|–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞|–°–æ–¥–µ—Ä–∂–∏—Ç|–û–ø–∏—Å–∞–Ω–∏–µ|
|---|---|---|
|People hub –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏|–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã|–°—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –≤–∏–¥–µ —Ç–µ–∫—Å—Ç–∞, —Ç–∞–±–ª–∏—Ü –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.|
|People hub –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞|–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã|–°—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –≤–∏–¥–µ —Ç–µ–∫—Å—Ç–∞, —Ç–∞–±–ª–∏—Ü –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.|
|–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –•–∞–∫–∞—Ç–æ–Ω–µ|–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –°–ø–∏—Å–æ–∫|–°—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –≤–∏–¥–µ —Ç–µ–∫—Å—Ç–∞, —Ç–∞–±–ª–∏—Ü –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π. –Ø—á–µ–π–∫–∏ –≤ —Å–ø–∏—Å–∫–∞—Ö —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–∞–Ω–Ω—ã–µ —Å —Ç–∏–ø–æ–º —Ç–µ–∫—Å—Ç.|
|–†–∞–±–æ—Ç—ã –§—Ä–æ–ª–æ–≤–∞|–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ|–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –≤–∏–¥–µ —Ç–µ–∫—Å—Ç–∞. **–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:** - –§—Ä–æ–ª–æ–≤_–ö_–í_–ì–æ—Ä–Ω—ã–µ_–º–∞—à–∏–Ω—ã_–ú–≠,_—Ç–æ–º_IV_24_2010.pdf - –§—Ä–æ–ª–æ–≤_–ö_–í_–î–≤–∏–≥–∞—Ç–µ–ª–∏_–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ_—Å–≥–æ—Ä–∞–Ω–∏—è_–ú–≠,_—Ç–æ–º_IV_14_2013.pdf - –§—Ä–æ–ª–æ–≤_–ö_–í_–ê–≤–∏–∞—Ü–∏–æ–Ω–Ω—ã–µ_–¥–≤–∏–≥–∞—Ç–µ–ª–∏_–ú–≠,_—Ç–æ–º_IV_21,_–∫–Ω–∏–≥–∞_3_2010.pdf - –§—Ä–æ–ª–æ–≤_–ö_–í_–î–∏–Ω–∞–º–∏–∫–∞_–∏_–ø—Ä–æ—á–Ω–æ—Å—Ç—å_–º–∞—à–∏–Ω_–ú–≠,_—Ç–æ–º_I_3,_–∫–Ω–∏–≥–∞_1_1994.pdf|
|–ú—É–∑–µ–∏|–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ|–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –≤–∏–¥–µ —Ç–µ–∫—Å—Ç–∞. **–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:** - 05_–í–µ–ª–∏–∫–∏–µ_–º—É–∑–µ–∏_–º–∏—Ä–∞_–ú–µ—Ç—Ä–æ–ø–æ–ª–∏—Ç–µ–Ω_2011.pdf - 06_–í–µ–ª–∏–∫–∏–µ_–º—É–∑–µ–∏_–º–∏—Ä–∞_–≠—Ä–º–∏—Ç–∞–∂_–ß–∞—Å—Ç—å_1_2011.pdf - 04_–í–µ–ª–∏–∫–∏–µ_–º—É–∑–µ–∏_–º–∏—Ä–∞_–ï–≥–∏–ø–µ—Ç—Å–∫–∏–∏ÃÜ_–º—É–∑–µ–∏ÃÜ_2011.pdf - 02_–í–µ–ª–∏–∫–∏–µ_–º—É–∑–µ–∏_–º–∏—Ä–∞_–ü—Ä–∞–¥–æ_–ú–∞–¥—Ä–∏–¥_2011.pdf - 03_–í–µ–ª–∏–∫–∏–µ_–º—É–∑–µ–∏_–º–∏—Ä–∞_–õ—É–≤—Ä_–ü–∞—Ä–∏–∂_2011.pdf|
|–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞|–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ|–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –≤–∏–¥–µ —Ç–µ–∫—Å—Ç–∞. **–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:** - –•–ª–∞–¥–Ω–æ–∫—Ä–æ–≤–Ω–æ–µ-—É–±–∏–∏ÃÜ—Å—Ç–≤–æ.doc - –ó–∞–≤—Ç—Ä–∞–∫-—É-–¢–∏—Ñ—Ñ–∞–Ω–∏.doc - –ü—Ä–∏–≤–∞–ª–æ–≤—Å–∫–∏–µ-–º–∏–ª–ª–∏–æ–Ω—ã.doc - –£–ª–∏—Å—Å.doc|
|–¢–∞–±–ª–∏—Ü—ã|–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ|–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –≤–∏–¥–µ —Ç–µ–∫—Å—Ç–∞. **–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã Excel —Å —Ä–∞–∑–ª–∏—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:** - MOCK_DATA.xlsx - MOCK_DATA-2.xlsx - MOCK_DATA-3.xlsx - MOCK_DATA-4.xlsx - MOCK_DATA-5.xlsx - MOCK_DATA-6.xlsx - MOCK_DATA-7.xlsx - MOCK_DATA-8.xlsx - MOCK_DATA-9.xlsx - MOCK_DATA-7.xlsx|

---

## –û–ø–∏—Å–∞–Ω–∏–µ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∑–∞–¥–∞–Ω–∏—è

–ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º.

### –¢–∞–±–ª–∏—Ü–∞ 2. –î–∞–º–ø—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

|–°–µ—Ä–≤–∏—Å|–î–∞–º–ø|
|---|---|
|–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–∞–π—Ç–æ–≤|cms.dump|
|–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–∞–π—Ç–æ–≤ - —Å–ø–∏—Å–∫–∏|lists.dump|
|–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ|filestorage.dump|

---

## –û–ø–∏—Å–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### üì¶ –°–µ—Ä–≤–∏—Å "–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–∞–π—Ç–æ–≤"

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

##### üîπ –¢–∞–±–ª–∏—Ü–∞ `sites_site`

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–∞–π—Ç–µ –≤–Ω—É—Ç—Ä–∏ —Å–∏—Å—Ç–µ–º—ã. –°–∞–π—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–º, —Ç–∞–∫ –∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–º (–¥–æ—á–µ—Ä–Ω–∏–º —Å–∞–π—Ç–æ–º –∏–ª–∏ —Ä–∞–∑–¥–µ–ª–æ–º).

**–ü–æ–ª—è:**

- `id` (`UUID`, primary key) ‚Äì –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–∞–π—Ç–∞, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—Å—Ç—Ä–æ–∫–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç).
    
- `name` (`String`, unique) ‚Äì –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ.
    
- `description` (`String`, default="") ‚Äì –û–ø–∏—Å–∞–Ω–∏–µ —Å–∞–π—Ç–∞. –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ.
    
- `slug` (`String`, unique) ‚Äì –£–Ω–∏–∫–∞–ª—å–Ω—ã–π slug (—á–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä), –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ URL.
    
- `status` (`String`, default=`SiteStatus.draft`, indexed) ‚Äì –°—Ç–∞—Ç—É—Å —Å–∞–π—Ç–∞ (enum):
    
    ```python
    class SiteStatus(str, Enum):
        draft = "draft"
        published = "published"
        archived = "archived"
    ```
    
- `is_navigation_visible` (`Boolean`, default=True) ‚Äì –§–ª–∞–≥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∞–π—Ç–∞ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.
    
- `filestorage_root_folder_id` (`UUID`, nullable) ‚Äì –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–∏ —Ñ–∞–π–ª–æ–≤ (–º–æ–∂–µ—Ç –±—ã—Ç—å NULL).
    
- `parent_id` (`UUID`, nullable) ‚Äì –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —Å–∞–π—Ç (ON DELETE SET NULL).
    
- `created_by_id` (`UUID`, nullable) ‚Äì –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–æ–∑–¥–∞–≤—à–µ–≥–æ —Å–∞–π—Ç.
    
- `updated_by_id` (`UUID`, nullable) ‚Äì –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–ª —Å–∞–π—Ç.
    

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- **–ò–µ—Ä–∞—Ä—Ö–∏—è:** –°–∞–π—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏, –æ–±—Ä–∞–∑—É—è –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
    
- **–ì–∏–±–∫–∏–µ —Å–≤—è–∑–∏:** –ß–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—ã `ServiceObject` –∏ `Page` –º–æ–∂–Ω–æ —Å–≤—è–∑–∞—Ç—å —Å–∞–π—Ç —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º, –º–µ–Ω—é –∏ —Ç.–ø.
    

---

##### üîπ –¢–∞–±–ª–∏—Ü–∞ `pages_page`

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å—É—â–Ω–æ—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—É—é –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö, —Å–≤—è–∑–µ–π –∏ –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞.

**–í–ê–ñ–ù–û:**  
–ü—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫ —Å–∞–π—Ç—É –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É `sites_serviceobject`, –≥–¥–µ:

- `ServiceObject.external_id` = `id —Å—Ç—Ä–∞–Ω–∏—Ü—ã`
    
- `ServiceObject.site_id` = `id —Å–∞–π—Ç–∞`
    

**–ü—Ä–∏–º–µ—Ä SQL-–∑–∞–ø—Ä–æ—Å–∞:** –ù–∞–π—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∞–π—Ç–∞ —Å `id = 45f1ce96-405a-439a-ad12-92e381e34835`

```sql
SELECT *
FROM pages_page AS pp
LEFT JOIN sites_serviceobject AS sso ON sso.external_id = pp.id::TEXT
WHERE sso.site_id = '45f1ce96-405a-439a-ad12-92e381e34835';
```

**–ü–æ–ª—è:**

- `id` (`UUID`) ‚Äì –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á.
    
- `name` (`Text`) ‚Äì –ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
    
- `slug` (`Text`, unique) ‚Äì –°–ª–∞–≥ URL.
    
- `body` (`JSON`) ‚Äì –ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
    
- `views_count` (`Integer`) ‚Äì –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤.
    
- `status` (`PageStatus`, enum) ‚Äì –°—Ç–∞—Ç—É—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.
    
- `is_main` (`Boolean`) ‚Äì –§–ª–∞–≥ –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∞–π—Ç–∞.
    
- `settings` (`JSONB`) ‚Äì –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
    

**–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:**

- `created_at` (`DateTime`) ‚Äì –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è.
    
- `created_by_id` (`UUID`) ‚Äì –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-—Å–æ–∑–¥–∞—Ç–µ–ª—å.
    
- `updated_at` (`DateTime`) ‚Äì –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
    
- `updated_by_id` (`UUID`) ‚Äì –ü–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä.
    

**–ò–µ—Ä–∞—Ä—Ö–∏—è –∏ —Å–≤—è–∑–∏:**

- `parent_id` ‚Äì –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.
    

---

### üóÇ –°–µ—Ä–≤–∏—Å "–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ"

#### –¢–∞–±–ª–∏—Ü–∞ `StorageObject`

`StorageObject` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∞—è –∫–∞–∫ —Ñ–∞–π–ª—ã, —Ç–∞–∫ –∏ –ø–∞–ø–∫–∏. –ú–æ–¥–µ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏–µ—Ä–∞—Ä—Ö–∏—é, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞, –∫–æ–Ω—Ç–µ–∫—Å—Ç, –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ –¥—Ä—É–≥–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.

##### üìå –û–±—â–∏–µ –ø–æ–ª—è

- `id (UUIDField)` ‚Äî –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–∞ (UUID v4).
    
- `type (PositiveSmallIntegerField)` ‚Äî –¢–∏–ø –æ–±—ä–µ–∫—Ç–∞ (—Ñ–∞–π–ª –∏–ª–∏ –ø–∞–ø–∫–∞), –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ enum `StorageObjectType`.
    
- `name (TextField)` ‚Äî –ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞.
    
- `description (CharField, max_length=255)` ‚Äî –û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ).
    
- `deprecated_tags (ArrayField)` ‚Äî –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫-—Ç–µ–≥–æ–≤ (—É—Å—Ç–∞—Ä–µ–≤—à–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å).
    
- `categories (ManyToManyField)` ‚Äî –ö–∞—Ç–µ–≥–æ—Ä–∏–∏, –∫ –∫–æ—Ç–æ—Ä—ã–º –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –æ–±—ä–µ–∫—Ç.
    

##### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç

- `parent (ForeignKey)` ‚Äî –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –æ–±—ä–µ–∫—Ç (`StorageObject`), –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∏–µ—Ä–∞—Ä—Ö–∏–∏.
    
- `context_folder (ForeignKey)` ‚Äî –ü–∞–ø–∫–∞, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∞—è –∫–æ–Ω—Ç–µ–∫—Å—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Blog_{id}`).
    
- `file_storage_display_type (CharField)` ‚Äî –¢–∏–ø –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `tile`, `list` –∏ —Ç.–¥.).
    

##### ‚öôÔ∏è –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

- `size (PositiveIntegerField)` ‚Äî –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–≤ –±–∞–π—Ç–∞—Ö), –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è —Ñ–∞–π–ª–æ–º.
    
- `additional (JSONField)` ‚Äî –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –≤–∫–ª—é—á–∞—è –∫–æ–Ω—Ç–µ–∫—Å—Ç.
    

##### üë§ –ê—É–¥–∏—Ç

- `created_by`, `updated_by`, `deleted_by (ForeignKey ‚Üí User)` ‚Äî –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –≤—ã–ø–æ–ª–Ω—è–≤—à–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞–¥ –æ–±—ä–µ–∫—Ç–æ–º.
    
- `created_at`, `updated_at`, `deleted_at (DateTimeField)` ‚Äî –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è.
    

##### üîÑ –í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å

- `version (OneToOneField)` ‚Äî –°–≤—è–∑—å —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–µ–π —Ñ–∞–π–ª–∞ (`Version`), –µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ.
    

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:**

–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ ‚Äî `storage_storageobject` –∏ `storage_version`.  
–í —Ç–∞–±–ª–∏—Ü–µ `storage_storageobject` –ø–æ–ª–µ `type` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç —Ñ–∞–π–ª–æ–º (`file`, –∑–Ω–∞—á–µ–Ω–∏–µ 1) –∏–ª–∏ –ø–∞–ø–∫–æ–π (`folder`, –∑–Ω–∞—á–µ–Ω–∏–µ 0):

```python
class StorageObjectType(models.IntegerChoices):
    FOLDER_TYPE = 0, '–ü–∞–ø–∫–∞'
    FILE_TYPE = 1, '–§–∞–π–ª'
```

–í —Ç–∞–±–ª–∏—Ü–µ `storage_version` –ø–æ–ª–µ `link` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ–∞–π–ª. –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–µ—Ä—Å–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é.

**–í–ê–ñ–ù–û:**

- –§–∞–π–ª –≤ –ø–∞–ø–∫–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫ –æ–±—ä–µ–∫—Ç —Å `type = 1`, —É –∫–æ—Ç–æ—Ä–æ–≥–æ `parent_id` —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –æ–±—ä–µ–∫—Ç —Å `type = 0`.
    
- –ü—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –ø–∞–ø–∫–∏ –∫ —Å–∞–π—Ç—É –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –ø–æ–ª—é `filestorage_root_folder_id` –≤ —Ç–∞–±–ª–∏—Ü–µ —Å–∞–π—Ç–∞. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, —É –æ–±—ä–µ–∫—Ç–∞ —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –µ—Å—Ç—å –ø–æ–ª–µ `site_id`.
    

**–ü—Ä–∏–º–µ—Ä—ã SQL-–∑–∞–ø—Ä–æ—Å–æ–≤:**

–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤—ã—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â —Å–∞–π—Ç–∞ —Å `id = '45f1ce96-405a-439a-ad12-92e381e34835'`:

```sql
SELECT child.*
FROM storage_storageobject AS child
INNER JOIN storage_storageobject AS parent ON child.parent_id = parent.id
WHERE parent.site_id = '45f1ce96-405a-439a-ad12-92e381e34835'
  AND parent.type = 0
  AND child.type = 0;
```

–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ —Å–∞–π—Ç–∞ —Å `id = '45f1ce96-405a-439a-ad12-92e381e34835'`:

```sql
SELECT *
FROM storage_storageobject AS so
WHERE so.site_id = '45f1ce96-405a-439a-ad12-92e381e34835'
  AND so.type = 1;
```

–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ–∞–π–ª, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å join —Å —Ç–∞–±–ª–∏—Ü–µ–π `storage_version` –∏ –≤—ã–±—Ä–∞—Ç—å –ø–æ–ª–µ `link`.

---

### üìã –°–µ—Ä–≤–∏—Å "–°–ø–∏—Å–∫–∏"

##### üîπ –¢–∞–±–ª–∏—Ü–∞ `lists_list_row`

–•—Ä–∞–Ω–∏—Ç —Å—Ç—Ä–æ–∫–∏ —Å–ø–∏—Å–∫–æ–≤, –∞ —Ç–∞–∫–∂–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–∑–¥–∞—Ç–µ–ª–µ –∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ.

- `created_by_id` (`UUID`) ‚Äì –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ `users_user.keycloak_id` (–º–æ–∂–µ—Ç –±—ã—Ç—å NULL).
    
- `updated_by_id` (`UUID`) ‚Äì –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ `users_user.keycloak_id` (–º–æ–∂–µ—Ç –±—ã—Ç—å NULL).
    
- `created_at` ‚Äì –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è.
    
- `updated_at` ‚Äì –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.
    

##### üîπ –¢–∞–±–ª–∏—Ü–∞ `lists_list_column`

–°–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–æ–ª–±—Ü—ã —Å–ø–∏—Å–∫–∞, –≤–∫–ª—é—á–∞—è –∏—Å—Ç–æ—Ä–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏–π.

- `is_visible` (`Boolean`) ‚Äì –§–ª–∞–≥ –≤–∏–¥–∏–º–æ—Å—Ç–∏ (default = True).
    
- `state_history` (`JSONB`) ‚Äì –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π (–º–æ–∂–µ—Ç –±—ã—Ç—å NULL).
    

##### üîπ –¢–∞–±–ª–∏—Ü–∞ `lists_files_file`

–•—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö.

- `id` ‚Äì Primary key (–∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç).
    
- `name` ‚Äì –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ).
    
- `storage_object_id` (`UUID`) ‚Äì –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –æ–±—ä–µ–∫—Ç–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ).
    
- `file_data` (`JSONB`) ‚Äì –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).
    
- `created_at` ‚Äì –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (UTC, default = now).
    
- `updated_at` ‚Äì –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).
    

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –¢–∞–±–ª–∏—Ü–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–ª–∞–≥–æ–¥–∞—Ä—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é `JSONB`.

---

## –ö–∞–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

–ß—Ç–æ–±—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É (–∑–∞–º–µ–Ω–∏—Ç–µ `PG_*` –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –≤–∞—à–µ–≥–æ Postgres; —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è Postgres 17):

```bash
pg_restore --create --dbname "postgresql://PG_USER:PG_PASSWORD@PG_HOST:PG_PORT/PG_DB" --no-owner --format c --no-privileges filestorage.dump
```

---

## –ö–∞–∫ –∑–∞–±—Ä–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

–ß—Ç–æ–±—ã –∑–∞–±—Ä–∞—Ç—å —Ñ–∞–π–ª—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∫ –∑–Ω–∞—á–µ–Ω–∏—é `link` –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö `filestorage` –¥–æ–±–∞–≤–∏—Ç—å `id` —Ñ–∞–π–ª–∞.

**Link, –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ñ–∞–π–ª—ã:**  
`https://hackaton.hb.ru-msk.vkcloud-storage.ru/media/`

**–ü—Ä–∏–º–µ—Ä ID:**  
`/attachments/68594c06-0bc6-11f0-b3ed-1e065ec9454b/MOCK_DATA-6.xlsx`

–§–∞–π–ª –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Å—ã–ª–∫–µ:

`https://hackaton.hb.ru-msk.vkcloud-storage.ru/media/attachments/68594c06-0bc6-11f0-b3ed-1e065ec9454b/MOCK_DATA-6.xlsx`

---

_–ò—Å—Ç–æ—á–Ω–∏–∫: ÓàÄciteÓàÇturn0file0ÓàÅ_